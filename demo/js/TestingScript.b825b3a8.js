(function(t){function e(e){for(var i,s,a=e[0],r=e[1],u=e[2],p=0,h=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&h.push(c[s][0]),c[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var r=n[a];0!==c[r]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},c={TestingScript:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=r;o.push([1,"chunk-vendors"]),n()})({"0932":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),c=n("8ea8"),o=n.n(c),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("div",{staticClass:"main"},[n("div",{staticClass:"editor"},[n("b-code-editor",{ref:"editor",attrs:{height:"600px","auto-format":!0,"smart-indent":!0,theme:"idea","indent-unit":4,"line-wrap":!1},model:{value:t.json,callback:function(e){t.json=e},expression:"json"}}),n("div",{staticClass:"test"},[n("span",[t._v("firstKey:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.firstkey,expression:"firstkey"}],attrs:{type:"text",placeholder:"firstkey"},domProps:{value:t.firstkey},on:{input:function(e){e.target.composing||(t.firstkey=e.target.value)}}}),n("div",{staticClass:"button",on:{click:t.submit}},[t._v(" 測試 ")])])],1),n("div",{staticClass:"box"},[n("ChatBox",{attrs:{script:t.script,chatBoxOptions:t.chatBoxOptions,firstStep:t.firstkey}})],1)])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("h1",[t._v("Vue-ChatBotBox")]),n("div",{staticClass:"button-group"},[n("a",{staticClass:"button",attrs:{href:"https://www.npmjs.com/package/vue-chatbotbox"}},[t._v(" npm ")]),n("a",{staticClass:"button",attrs:{href:"https://github.com/de-yu/vue-chatbox"}},[t._v(" github ")]),n("a",{staticClass:"button",attrs:{href:"./TestingScript.html"}},[t._v(" 測試 ")])])])}],r=n("d4ec"),u=n("bee2"),l=n("262e"),p=n("2caf"),h=n("9ab4"),f=n("1b40"),b=n("e26a"),d=n("54d9"),A=n.n(d),v=function(t){Object(l["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.json='{\n    "one": {\n      "title": "有問題嗎",\n      "type": "question",\n      "option": [{\n        "text": "問題1",\n        "next": "two"\n      }, {\n        "text": "問題2",\n        "next": "three"\n      }, {\n        "text": "問題3",\n        "next": "four"\n      }]\n    },\n    "two": {\n      "title": "問題1回答",\n      "type": "answer",\n      "next": "one"\n    },\n    "three": {\n      "title": "問題2回答",\n      "type": "answer",\n      "next": "one"\n    },\n    "four": {\n      "title": "問題3回答",\n      "type": "answer",\n      "next": "one"\n    }\n  }',t.script={},t.firstkey="one",t.chatBoxOptions={headImg:A.a},t}return Object(u["a"])(n,[{key:"created",value:function(){this.submit()}},{key:"submit",value:function(){this.script=JSON.parse(this.json)}}]),n}(f["d"]);v=Object(h["a"])([Object(f["a"])({components:{ChatBox:b["a"]}})],v);var O=v,x=O,y=(n("fbec"),n("bbf7"),n("2877")),w=Object(y["a"])(x,s,a,!1,null,"6c5c6f34",null),j=w.exports;i["a"].use(o.a),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(j)}}).$mount("#app")},1:function(t,e,n){t.exports=n("0932")},"278f":function(t,e,n){},"2fe4":function(t,e,n){"use strict";n("c08f")},"54d9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAACT0lEQVRo3u2XvWtTURjGf++9pjUxLXZxcFCHoIhIEwTBTVuL+BdIQZLcKOiSpbg6iYsgOpRSSj5aRBHzBwi16uqWFDQqLqK4OCiYewctN8flCkW0+TinTaDnB1nCec7zPue9N+cNWCwWi2U3I6Y3zOfzJ0XkKjANHIm+/gisOY5TKpfLr4cyQLFYHPV9/x5wDXD+syxUSi0GQTBXq9V+DU2AqPinwLkuJS98379oIoSjuwFAq9W630PxAFPJZPKuCW/tDkTPfKOPwwjb7fbkysrKGx1/7Q5EL2w/+7iO41zR9TfxCJ3X0M4MQ4BDGtrDwxBADUhrLMBnDe2nYQjwrF+hiKwOPIDjOCUg7EMaKqXKuv6u7gb1ev1rOp0+ICKne5TOV6vVB7r+Rm7iIAjmROR5D5K1WCx2w4S3dgcAms1mmEqlHo+MjEwAp7Y4mBCYj8ViuaWlpQ0T3sbH6VwudyK6YWfYNE6LyKpSqlytVpumPS2W3Yz2S1woFMba7fZZEZkEjgPHgInosy9aFgDfgW9Kqfci8k4ptZ5IJF4uLCz4Ox6gUCiMKaUuA7PAGWBPn/4bwCsReQQ8rFQqrW0NEJ32TRG5DozpnNw/+AEsxuPxW710pesAnuddACrAQcOF/80XpZS3vLzc1ZDY1U3sed4s8ATYv83FA4yLyKVMJvOh0Wh0/L/csQPZbPao67rrwN4dKH4zP13XzZRKpbdbLeo4zLmue2cAxQOMhmF4u9OibqbRqQEU/4dpEwFM/9r0wriJAEONDWCxWCwWyyD5DV8+ojeg12JrAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA2LTE1VDA4OjExOjAwKzAwOjAwD9h45wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNi0xNVQwODoxMTowMCswMDowMH6FwFsAAAAASUVORK5CYII="},"65c8":function(t,e,n){"use strict";n("cbd2")},bbf7:function(t,e,n){"use strict";n("278f")},c08f:function(t,e,n){},cbd2:function(t,e,n){},dfb3:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nowStep",class:{stepLeft:"question"===t.script.position||"answer",stepRight:"feedback"===t.script.type}},[n("div",{staticClass:"head"},[n("div",{staticClass:"head-img"},[n("img",{attrs:{src:t.head}})])]),n("div",{staticClass:"dialogue"},[n("div",{staticClass:"message"},[t._v(" "+t._s(t.script.title)+" ")]),n("div",{staticClass:"option"},t._l(t.script.option,(function(e,i){return n("div",{key:i,staticClass:"nowOption",class:{nowOptionClick:t.canClick},on:{click:function(n){return t.selectNext(e.next)}}},[t._v(" "+t._s(e.text)+" ")])})),0)])])},c=[],o=n("d4ec"),s=n("bee2"),a=n("262e"),r=n("2caf"),u=n("9ab4"),l=n("1b40"),p=function(t){Object(a["a"])(n,t);var e=Object(r["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"selectNext",value:function(t){this.$emit("selectNext",t)}}]),n}(l["d"]);Object(u["a"])([Object(l["b"])()],p.prototype,"script",void 0),Object(u["a"])([Object(l["b"])()],p.prototype,"head",void 0),Object(u["a"])([Object(l["b"])({default:!1})],p.prototype,"canClick",void 0),p=Object(u["a"])([l["a"]],p);var h=p,f=h,b=(n("2fe4"),n("2877")),d=Object(b["a"])(f,i,c,!1,null,"bb7c4bfa",null);e["a"]=d.exports},e26a:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chatbox",style:{width:t.option.width,height:t.option.height}},[n("div",{ref:"chatBlock",staticClass:"chat-block",style:{background:t.option.talkBackground}},[n("div",[n("div",{staticClass:"history"},t._l(t.history,(function(e,i){return n("div",{key:i,staticClass:"history-item"},[n("ChatTalk",{attrs:{script:e,head:t.option.headImg}})],1)})),0),n("ChatTalk",{attrs:{script:t.execScript[t.step],canClick:"true",head:t.option.headImg},on:{selectNext:t.selectNext}})],1)])])},c=[],o=n("d4ec"),s=n("bee2"),a=n("262e"),r=n("2caf"),u=(n("159b"),n("9ab4")),l=n("1b40"),p=n("3997"),h=n("dfb3"),f=function(t){Object(a["a"])(n,t);var e=Object(r["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.history=[],t.showbutton=!0,t.step=t.firstStep,t.finished=0,t.execScript={},t.option={headImg:"",talkBackground:"#fff",width:"100%",height:"inherit"},t}return Object(s["a"])(n,[{key:"created",value:function(){var t=this;this.option=Object.assign(this.option,this.chatBoxOptions),Object(p["a"])(this.script,(function(e,n){var i=e,c=[];"question"===e.type&&(i.option.forEach((function(e){t.execScript["".concat(e.next,"_feedback")]={title:e.text,type:"feedback",next:e.next},c.push(e),c[c.length-1].next+="_feedback"})),i.option=c),t.execScript[n]=e}))}},{key:"selectNext",value:function(t){var e=this;this.history.push(this.execScript[this.step]),this.step=t,setTimeout((function(){window.requestAnimationFrame(e.scrollAnimation)}),0)}},{key:"hasNext",value:function(){var t=this;setTimeout((function(){Object.prototype.hasOwnProperty.call(t.execScript[t.step],"next")&&(t.selectNext(t.execScript[t.step].next),t.finished=0)}),1e3)}},{key:"showbox",value:function(){this.showbutton=!1}},{key:"hiddenBox",value:function(){this.showbutton=!0}},{key:"scrollAnimation",value:function(){var t=Math.min(this.chatBlock.scrollTop+(this.chatBlock.scrollHeight-this.chatBlock.clientHeight-this.chatBlock.scrollTop)*this.easeOutCubic(this.finished),this.chatBlock.scrollHeight-this.chatBlock.clientHeight);this.chatBlock.scrollTo(0,t),t!==this.chatBlock.scrollHeight-this.chatBlock.clientHeight?(this.finished+=.05,window.requestAnimationFrame(this.scrollAnimation)):this.finished=0}},{key:"easeOutCubic",value:function(t){return 1-Math.pow(1-t,3)}}]),n}(l["d"]);Object(u["a"])([Object(l["b"])()],f.prototype,"script",void 0),Object(u["a"])([Object(l["b"])({default:{}})],f.prototype,"chatBoxOptions",void 0),Object(u["a"])([Object(l["b"])()],f.prototype,"firstStep",void 0),Object(u["a"])([Object(l["c"])("chatBlock")],f.prototype,"chatBlock",void 0),Object(u["a"])([Object(l["e"])("step")],f.prototype,"hasNext",null),f=Object(u["a"])([Object(l["a"])({components:{ChatTalk:h["a"]}})],f);var b=f,d=b,A=(n("65c8"),n("2877")),v=Object(A["a"])(d,i,c,!1,null,"38a31ed6",null);e["a"]=v.exports},f096:function(t,e,n){},fbec:function(t,e,n){"use strict";n("f096")}});