(function(t){function e(e){for(var o,s,a=e[0],r=e[1],l=e[2],u=0,p=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&p.push(c[s][0]),c[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);h&&h(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],o=!0,a=1;a<i.length;a++){var r=i[a];0!==c[r]&&(o=!1)}o&&(n.splice(e--,1),t=s(s.s=i[0]))}return t}var o={},c={index:0},n=[];function s(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=o,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var h=r;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"0d89":function(t,e,i){"use strict";i("330e")},"2fe4":function(t,e,i){"use strict";i("c08f")},"330e":function(t,e,i){},"54d9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAACT0lEQVRo3u2XvWtTURjGf++9pjUxLXZxcFCHoIhIEwTBTVuL+BdIQZLcKOiSpbg6iYsgOpRSSj5aRBHzBwi16uqWFDQqLqK4OCiYewctN8flCkW0+TinTaDnB1nCec7zPue9N+cNWCwWi2U3I6Y3zOfzJ0XkKjANHIm+/gisOY5TKpfLr4cyQLFYHPV9/x5wDXD+syxUSi0GQTBXq9V+DU2AqPinwLkuJS98379oIoSjuwFAq9W630PxAFPJZPKuCW/tDkTPfKOPwwjb7fbkysrKGx1/7Q5EL2w/+7iO41zR9TfxCJ3X0M4MQ4BDGtrDwxBADUhrLMBnDe2nYQjwrF+hiKwOPIDjOCUg7EMaKqXKuv6u7gb1ev1rOp0+ICKne5TOV6vVB7r+Rm7iIAjmROR5D5K1WCx2w4S3dgcAms1mmEqlHo+MjEwAp7Y4mBCYj8ViuaWlpQ0T3sbH6VwudyK6YWfYNE6LyKpSqlytVpumPS2W3Yz2S1woFMba7fZZEZkEjgPHgInosy9aFgDfgW9Kqfci8k4ptZ5IJF4uLCz4Ox6gUCiMKaUuA7PAGWBPn/4bwCsReQQ8rFQqrW0NEJ32TRG5DozpnNw/+AEsxuPxW710pesAnuddACrAQcOF/80XpZS3vLzc1ZDY1U3sed4s8ATYv83FA4yLyKVMJvOh0Wh0/L/csQPZbPao67rrwN4dKH4zP13XzZRKpbdbLeo4zLmue2cAxQOMhmF4u9OibqbRqQEU/4dpEwFM/9r0wriJAEONDWCxWCwWyyD5DV8+ojeg12JrAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA2LTE1VDA4OjExOjAwKzAwOjAwD9h45wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNi0xNVQwODoxMTowMCswMDowMH6FwFsAAAAASUVORK5CYII="},"65c8":function(t,e,i){"use strict";i("cbd2")},a3d8:function(t,e,i){"use strict";i("c258")},c08f:function(t,e,i){},c258:function(t,e,i){},cbd2:function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var o=i("2b0e"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),i("div",{staticClass:"main"},[t._m(1),i("div",{staticClass:"example"},[i("ChatBox",{attrs:{script:t.script,chatBoxOptions:t.chatBoxOptions,firstStep:"one"}})],1)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("h1",[t._v("Vue-ChatBotBox")]),i("div",{staticClass:"button-group"},[i("a",{staticClass:"button",attrs:{href:"https://www.npmjs.com/package/vue-chatbotbox"}},[t._v(" npm ")]),i("a",{staticClass:"button",attrs:{href:"https://github.com/de-yu/vue-chatbox"}},[t._v(" github ")]),i("a",{staticClass:"button",attrs:{href:"./TestingScript.html"}},[t._v(" 測試 ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message"},[i("h3",[t._v("設定好固定的腳本提供對話式的問答")])])}],s=i("d4ec"),a=i("262e"),r=i("2caf"),l=i("9ab4"),h=i("1b40"),u=i("54d9"),p=i.n(u),b=i("e26a"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.showbutton?i("div",{staticClass:"chat-button",style:{background:t.option.buttonColor,color:t.option.buttonFontColor},on:{click:t.showbox}},[t._v(" "+t._s(t.option.name)+" ")]):i("div",{staticClass:"chatbox",style:{width:t.option.width,height:t.option.height}},[i("div",{staticClass:"chatbox-top",style:{background:t.option.barColor}},[i("div",{staticClass:"top-title"},[t._v(" "+t._s(t.option.name))]),i("div",{staticClass:"space"}),i("div",{staticClass:"top-small",on:{click:t.hiddenBox}},[t._v(" — ")])]),i("div",{ref:"chatBlock",staticClass:"chat-block",style:{background:t.option.talkBackground}},[i("div",[i("div",{staticClass:"history"},t._l(t.history,(function(e,o){return i("div",{key:o,staticClass:"history-item"},[i("ChatTalk",{attrs:{script:e,head:t.option.headImg}})],1)})),0),i("ChatTalk",{attrs:{script:t.script[t.step],canClick:"true",head:t.option.headImg},on:{selectNext:t.selectNext}})],1)])])])},f=[],A=i("bee2"),v=i("dfb3"),O=function(t){Object(a["a"])(i,t);var e=Object(r["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.history=[],t.showbutton=!0,t.step=t.firstStep,t.option={name:"",buttonFontColor:"#fff",buttonColor:"#9A9292",barColor:"#9A9292",headImg:"",talkBackground:"#fff",width:"400px",height:"500px"},t}return Object(A["a"])(i,[{key:"created",value:function(){this.option=Object.assign(this.option,this.chatBoxOptions),console.log(this.option)}},{key:"selectNext",value:function(t){var e=this;this.history.push(this.script[this.step]),this.step=t,setTimeout((function(){window.requestAnimationFrame(e.scrollAnimation)}),0)}},{key:"hasNext",value:function(){var t=this;setTimeout((function(){Object.prototype.hasOwnProperty.call(t.script[t.step],"next")&&t.selectNext(t.script[t.step].next)}),1e3)}},{key:"showbox",value:function(){this.showbutton=!1}},{key:"hiddenBox",value:function(){this.showbutton=!0}},{key:"scrollAnimation",value:function(){var t=Math.min(this.chatBlock.scrollTop+5,this.chatBlock.scrollHeight-this.chatBlock.clientHeight);this.chatBlock.scrollTo(0,t),t!==this.chatBlock.scrollHeight-this.chatBlock.clientHeight&&window.requestAnimationFrame(this.scrollAnimation)}}]),i}(h["d"]);Object(l["a"])([Object(h["b"])()],O.prototype,"script",void 0),Object(l["a"])([Object(h["b"])({default:{}})],O.prototype,"chatBoxOptions",void 0),Object(l["a"])([Object(h["b"])()],O.prototype,"firstStep",void 0),Object(l["a"])([Object(h["c"])("chatBlock")],O.prototype,"chatBlock",void 0),Object(l["a"])([Object(h["e"])("step")],O.prototype,"hasNext",null),O=Object(l["a"])([Object(h["a"])({components:{ChatTalk:v["a"]}})],O);var x=O,y=x,w=(i("0d89"),i("2877")),j=Object(w["a"])(y,d,f,!1,null,"39890528",null),k=j.exports,g=function(t){Object(a["a"])(i,t);var e=Object(r["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.script={one:{title:"有問題嗎",type:"question",option:[{text:"問題1",next:"two"},{text:"問題2",next:"three"},{text:"問題3",next:"four"}]},two:{title:"問題1回答",type:"answer",next:"one"},three:{title:"問題2回答",type:"answer",next:"one"},four:{title:"問題3回答",type:"answer",next:"one"}},t.chatBoxOptions={headImg:p.a},t}return i}(h["d"]);g=Object(l["a"])([Object(h["a"])({components:{ChatBox:b["a"],ChatHelper:k}})],g);var m=g,C=m,B=(i("a3d8"),Object(w["a"])(C,c,n,!1,null,"73502e24",null)),T=B.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(T)}}).$mount("#app")},dfb3:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nowStep",class:{stepLeft:"question"===t.script.position||"answer",stepRight:"feedback"===t.script.type}},[i("div",{staticClass:"head"},[i("div",{staticClass:"head-img"},[i("img",{attrs:{src:t.head}})])]),i("div",{staticClass:"dialogue"},[i("div",{staticClass:"message"},[t._v(" "+t._s(t.script.title)+" ")]),i("div",{staticClass:"option"},t._l(t.script.option,(function(e,o){return i("div",{key:o,staticClass:"nowOption",class:{nowOptionClick:t.canClick},on:{click:function(i){return t.selectNext(e.next)}}},[t._v(" "+t._s(e.text)+" ")])})),0)])])},c=[],n=i("d4ec"),s=i("bee2"),a=i("262e"),r=i("2caf"),l=i("9ab4"),h=i("1b40"),u=function(t){Object(a["a"])(i,t);var e=Object(r["a"])(i);function i(){return Object(n["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"selectNext",value:function(t){this.$emit("selectNext",t)}}]),i}(h["d"]);Object(l["a"])([Object(h["b"])()],u.prototype,"script",void 0),Object(l["a"])([Object(h["b"])()],u.prototype,"head",void 0),Object(l["a"])([Object(h["b"])({default:!1})],u.prototype,"canClick",void 0),u=Object(l["a"])([h["a"]],u);var p=u,b=p,d=(i("2fe4"),i("2877")),f=Object(d["a"])(b,o,c,!1,null,"bb7c4bfa",null);e["a"]=f.exports},e26a:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatbox",style:{width:t.option.width,height:t.option.height}},[i("div",{ref:"chatBlock",staticClass:"chat-block",style:{background:t.option.talkBackground}},[i("div",[i("div",{staticClass:"history"},t._l(t.history,(function(e,o){return i("div",{key:o,staticClass:"history-item"},[i("ChatTalk",{attrs:{script:e,head:t.option.headImg}})],1)})),0),i("ChatTalk",{attrs:{script:t.execScript[t.step],canClick:"true",head:t.option.headImg},on:{selectNext:t.selectNext}})],1)])])},c=[],n=i("d4ec"),s=i("bee2"),a=i("262e"),r=i("2caf"),l=(i("159b"),i("9ab4")),h=i("1b40"),u=i("3997"),p=i("dfb3"),b=function(t){Object(a["a"])(i,t);var e=Object(r["a"])(i);function i(){var t;return Object(n["a"])(this,i),t=e.apply(this,arguments),t.history=[],t.showbutton=!0,t.step=t.firstStep,t.finished=0,t.execScript={},t.option={headImg:"",talkBackground:"#fff",width:"100%",height:"inherit"},t}return Object(s["a"])(i,[{key:"created",value:function(){var t=this;this.option=Object.assign(this.option,this.chatBoxOptions),Object(u["a"])(this.script,(function(e,i){var o=e,c=[];"question"===e.type&&(o.option.forEach((function(e){t.execScript["".concat(e.next,"_feedback")]={title:e.text,type:"feedback",next:e.next},c.push(e),c[c.length-1].next+="_feedback"})),o.option=c),t.execScript[i]=e}))}},{key:"selectNext",value:function(t){var e=this;this.history.push(this.execScript[this.step]),this.step=t,setTimeout((function(){window.requestAnimationFrame(e.scrollAnimation)}),0)}},{key:"hasNext",value:function(){var t=this;setTimeout((function(){Object.prototype.hasOwnProperty.call(t.execScript[t.step],"next")&&(t.selectNext(t.execScript[t.step].next),t.finished=0)}),1e3)}},{key:"showbox",value:function(){this.showbutton=!1}},{key:"hiddenBox",value:function(){this.showbutton=!0}},{key:"scrollAnimation",value:function(){var t=Math.min(this.chatBlock.scrollTop+(this.chatBlock.scrollHeight-this.chatBlock.clientHeight-this.chatBlock.scrollTop)*this.easeOutCubic(this.finished),this.chatBlock.scrollHeight-this.chatBlock.clientHeight);this.chatBlock.scrollTo(0,t),t!==this.chatBlock.scrollHeight-this.chatBlock.clientHeight?(this.finished+=.05,window.requestAnimationFrame(this.scrollAnimation)):this.finished=0}},{key:"easeOutCubic",value:function(t){return 1-Math.pow(1-t,3)}}]),i}(h["d"]);Object(l["a"])([Object(h["b"])()],b.prototype,"script",void 0),Object(l["a"])([Object(h["b"])({default:{}})],b.prototype,"chatBoxOptions",void 0),Object(l["a"])([Object(h["b"])()],b.prototype,"firstStep",void 0),Object(l["a"])([Object(h["c"])("chatBlock")],b.prototype,"chatBlock",void 0),Object(l["a"])([Object(h["e"])("step")],b.prototype,"hasNext",null),b=Object(l["a"])([Object(h["a"])({components:{ChatTalk:p["a"]}})],b);var d=b,f=d,A=(i("65c8"),i("2877")),v=Object(A["a"])(f,o,c,!1,null,"38a31ed6",null);e["a"]=v.exports}});